<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>省市二级联动</title>
    <style type="text/css">
        #container{width:300px;height:400px;border:1px solid lightgray;margin:0 auto;}
        #userName,#iphone{display:block;width:280px;height:40px;line-height:40px;margin:0 auto;}
        #slt{display:block;width:280px;height:45px;margin:10px;}
        #prov,#city{display:inline-block;width:100px;height:40px;padding:8px 0;vertical-align:middle;}
        #prov{margin:0 60px 0 5px;}
        #userName,#iphone{text-align:center;}
        #panel{width:280px;height:20px;margin:10px;}
        #agreement{margin:0;padding:0;vertical-align:text-bottom;margin-bottom:-1px;}
        #agreement{margin:0;padding:0;vertical-align:middle;}
        span{width:220px;height:20px;display:inline-block;font-size:12px;}
        #btn{width:100px;height:50px;display:block;border:none;background:#794695;margin:0 auto;margin-top:30px;font-size:16px;color:#fff;cursor:pointer;}
        p{text-align:center;font-size:16px;font-weight:bold;}
    </style>
    <script type="text/javascript">
        window.onload = function() {
            var oProv = document.getElementById("prov");
            var oCity = document.getElementById("city");
            var prov = ["广东","广西","北京","上海","天津","重庆","湖南","湖北"];
            var city = [
                    ["广州","深圳","佛山","茂名"],
                    ["南宁","桂林","梧州","柳州"],
                    ["东城区","西城区","崇文区","朝阳区"],
                    ["黄浦区","卢湾区","徐汇区","长宁区"],
                    ["和平区","河东区","河西区","南开区"],
                    ["万州区","涪陵区","渝中区","大渡口区"],
                    ["长沙","湘潭","株洲","岳阳"],
                    ["武汉","黄石","荆门","黄冈"]
            ];

            oProv.onclick = function() {
                //oProv.options.length = 1;
                //alert(oProv.style.height);
//                oProv.options.remove(0);//删除索引为0的option
//                oProv.options[0].style.display = 'none';//隐藏第一个option
                oCity.options.length = 1;
                oProv.style.height = "41px";//BUG，去掉后发现问题。
                //var opt = document.getElementsByTagName("option");
                //alert(opt.length);
                for(var i=0;i<prov.length;i++) {
                    var oOpt = document.createElement("option");
//                    oOpt.innerHTML = prov[i];
//                    oProv.appendChild(oOpt);
                    //opt[0].insertAfter(oOpt);
                    oProv.options.add(new Option(prov[i],i));//也可以用上面注释写的，分开写
                }
                oProv.options.length = eval(1+i);

                var optLen = eval(1+i);
//                alert(optLen);
                //opts[1].selected = 'selected';
                var opts = document.getElementsByTagName("option");
                for(var j=1;j<optLen;j++) {
                    //alert(opts[j].value);
                    if(opts[j].selected == true) {//注：如果为：opts[j].selected == 'select',则为：false
//                        alert(j);
                        //alert(city[opts[j].value].length);
                        for(var k=0;k<city[opts[j].value].length;k++) {
                            var newOpt = document.createElement("option");
                            oCity.options.add(new Option(city[j-1][k],k));
                        }
                        oCity.options[1].selected = true;
                        oCity.options.length = eval(k+1);//限定option的个数
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="container">
        <p>-抢免费注册1039企业名额-</p>
        <p>今日还剩余009个免费名额</p>
        <form action="">
        <input type="text" name="userName" id="userName" value="" placeholder="您的称呼">
         <div id="slt">
             <select name="prov" id="prov">
                 <option value="">省/市</option>

             </select>

             <select name="city" id="city">
                 <option value="">市/地区</option>

             </select>
         </div>
        <input type="text" name="iphone" id="iphone" value="" placeholder="填写手机号码，获取免费注册1039公司名额">
        <div id="panel">
            <input type="checkbox" name="agreement" id="agreement">
            <span>我已阅读并接受《圣贸通常见问题条款》</span>
        </div>

        <input type="submit" name="apply" id="btn" value="立即申请">
        </form>
    </div>
</body>
</html>